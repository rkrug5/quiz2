<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/reset.css" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
	 crossorigin="anonymous">
	<link rel="stylesheet" href="assets/css/style.css" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Meie+Script|Monsieur+La+Doulaise" rel="stylesheet">
	<title>TriviaGame!</title>
</head>

<body>

	<div class="container">


		<div class="jumbotron">
			<div class="col-sm-3">
				<img src="assets/images/triviallogo.jpg" />
			</div>
			<h1 class="text-center">
				<strong id="fancy">Another Trivial Pursuit...</strong>
			</h1>
			<hr>
			<div class="row" id="timer">

			</div>
		</div>
	</div>


	<div class="row" id="startbutton">

		<div class="col-sm-12 text-center">

			<button type="button" id="startbtn" onclick="startquiz()">Start Quiz!</button>
		</div>

	</div>


	<div class="row quizform" id="mainbody">

		<div class="col-sm-12 questionspace">

			<br>
			<div class="row" id="countdown">

				<h1 id="question"></h1>

				<div class="col-sm-4 col-sm-offset-4">

					<div class="row solution" id="answer1" onclick="checkSolution1()"></div>
					<div class="row solution" id="answer2" onclick="checkSolution2()"></div>
					<div class="row solution" id="answer3" onclick="checkSolution3()"></div>
					<div class="row solution" id="answer4" onclick="checkSolution4()"></div>

				</div>

			</div>

		</div>

	</div>


	<div class="row" id="results">
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2" id="results2">
				<p>Results:</p>

				<p id="score"></p>

				<p id="incorrect"></p>

			</div>
		</div>
		<div class="row">
			<button type="button" id="tryagainbtn" onclick="backtostart()">Try Again!</button>
		</div>
	</div>


	<div class="row">
		<div class="col-sm-4 col-sm-offset-4" id="right"></div>

		<div class="col-sm-4 col-sm-offset-4" id="wrong"></div>
	</div>








	<script type="text/javascript">

		var score = 0;
		var timeLeft;
		var questionTime;
		var incorrect = 0;
		var i = 0;
		var intervalId;
		var second = setInterval(timer, 1000);






		function startquiz() {
			timeLeft = 30;
			console.log(i);

			//hide start button
			$("#startbtn").hide();
			$("#right").hide();
			$("#wrong").hide();
			$("#time").hide();



			//render question and show quizform
			$("#mainbody").show();
			$("#time").hide();

			//show and run timer
			$("#timer").text("Time Remaining: " + timeLeft + " Seconds");

			// timer.runTimer();
			timer();
			renderQuestion();



			if (i >= 6) {

				// clearInterval(intervalId);
				$("#startbtn").hide();
				$("#right").hide();
				$("#wrong").hide();
				$("#mainbody").hide();
				$("#results").show();
				results();
			}


		}

		function renderQuestion() {


			if (i >= 6) {


				$("#startbtn").hide();
				$("#right").hide();
				$("#wrong").hide();
				$("#mainbody").hide();
				$("#results").show();
				result();
			}


			console.log(i);


			$("#question").text(quizArray[i].q);
			$("#answer1").text(quizArray[i].a[0]);
			$("#answer2").text(quizArray[i].b[0]);
			$("#answer3").text(quizArray[i].c[0]);
			$("#answer4").text(quizArray[i].d[0]);
			console.log(timeLeft);



		}


		function timer() {
			theClock = setInterval(count, 1000);
			function count() {
				if (timeLeft === 0) {
					clearInterval(theClock);
					wrong();
				}
				if (timeLeft > 0) {
					timeLeft--;
					$("#timer").text("Time Remaining: " + timeLeft + " Seconds");
				}
			}

		}






		function checkSolution1() {
			if (quizArray[i].a[1] == true) {

				right();
			}

			if (quizArray[i].a[1] == false) {

				wrong();
			}

		}

		function checkSolution2() {
			if (quizArray[i].b[1] == true) {

				right();

			}

			if (quizArray[i].b[1] == false) {

				wrong();

			}

		}

		function checkSolution3() {
			if (quizArray[i].c[1] == true) {

				right();

			}

			if (quizArray[i].c[1] == false) {

				wrong();

			}

		}

		function checkSolution4() {

			if (quizArray[i].d[1] == true) {

				right();

			}

			if (quizArray[i].d[1] == false) {

				wrong();

			}

		}


		function stop() {
			if (i < 7) {
				i++;
				timeLeft = 30;
				startquiz();

			}
			else {
				results();
			}
		}





		function backtostart() {
			i = 0;
			score = 0;
			incorrect = 0;
			timeLeft = 30;

			$("#mainbody").hide();
			$("#results").hide();
			$("#startbtn").show();
			$("#right").hide();
			$("#wrong").hide();

		}


		function right() {
			score++;
			$("#mainbody").hide();
			$("#right").show();
			$("#results").hide();
			setTimeout(stop, 4000);

		}

		function wrong() {
			incorrect++;
			$("#mainbody").hide();
			$("#wrong").show();
			$("#results").hide();
			setTimeout(stop, 4000);

		}




		function results() {
			$("#score").text("You Answered " + score + " Questions Right!")
			$("#incorrect").text("You Answered " + incorrect + " Questions Wrong!")

		}




		// trying to input/load my questions and answers as an object so i can make cleaner, reusable code
		var quizArray = [{

			q: "Which of the following is a moon of Saturn?",
			a: ["Io", false],
			b: ["Europa", false],
			c: ["Deimos", false],
			d: ["Titan", true]

		},

		{
			q: "Which of these is not a noble gas?",
			a: ["Hydrogen", true],
			b: ["Helium", false],
			c: ["Neon", false],
			d: ["Radon", false]
		},

		{
			q: "The colors of the the rainbow can be remembered by which acronym?",
			a: ["SCUBA", false],
			b: ["OMGWTFBBQ", false],
			c: ["ROYGBIV", true],
			d: ["NAFTA", false]
		},

		{
			q: "The distance between the earth and the sun is called ",
			a: ["parsec", false],
			b: ["light year", false],
			c: ["astronomical unit", true],
			d: ["megaparsec", false]
		},

		{
			q: "Approximately how long does it take light to travel from the Sun to the Earth?",
			a: ["3 hours", false],
			b: ["10 seconds", false],
			c: ["20 minutes", false],
			d: ["8 minutes", true]
		},

		{
			q: "Which of the following is not a logarithmic scale?",
			a: ["pH scale", false],
			b: ["Richter scale", false],
			c: ["weight scale", true],
			d: ["decibel scale", false]
		}];







	</script>
	</div>


</body>

</html>